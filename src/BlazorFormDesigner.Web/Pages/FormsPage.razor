@page "/forms"

<Container Width="1452px" Top="80px" Bottom="70px">
    <h3>Available forms</h3>
    @foreach (var form in Forms.Where(f => f.Status == FormStatus.Available))
    {
        <NewForm Form=@form />
    }
    <h3>Answered forms</h3>
    @foreach (var form in Forms.Where(f => f.Status == FormStatus.Answered))
    {
        <NewForm Form=@form />
    }
    <h3>Dismissed forms</h3>
    @foreach (var form in Forms.Where(f => f.Status == FormStatus.Dismissed))
    {
        <NewForm Form=@form />
    }
</Container>

@code {
    [Inject]
    private FormService FormService { get; set; }

    private IEnumerable<FormResponse> Forms { get; set; } = new List<FormResponse>();

    protected override async Task OnParametersSetAsync()
    {
        Forms = await FormService.GetAll();
    }
}
